**Brewery**

Приложение для взаимодействия покупателей пива с сотрудниками отдела продаж пивоварни, а также взаимодействия 
сотрудников отдела продаж с сотрудниками цеха по производству пива.

**Сущности предполагаемого проекта**

**Customer (Покупатель/заказчик)**
Пользователь, желающий ознакомиться с предлагаемым ассортиментом пива и, в дальнейшем, сделать заказ на производство 
партии пива.
Поля:
•	Email
•	Телефон
•	Логин
•	Пароль
Связи:
•	Ассортимент (“Product line”).  Просматривается покупателем.
•	Заказ (“Order”). Оформляется покупателем.
•	Отзыв (“Review”). Формируется покупателем в качестве оценки работы пивоварни. 

**Salesman (Работник отдела продаж)**
Пользователь, который ответственен за взаимодействие с:
- заказчиком - по вопросам оформления заказа;
- работником пивоваренного цеха – по вопросам оформления требования о производстве партии пива. 
Поля:
•	Email
•	ФИО
•	Должность
•	Отдел
•	Логин
•	Пароль
Связи:
•	Ассортимент (“Product line”).  Формируется/редактируется работником отдела продаж.
•	Заказ (“Order”). Обрабатывается работником отдела продаж.
•	Отзыв (“Review”).  Анализируется работником отдела продаж.
•	Требование (“Requirement”).  Оформляется работником отдела продаж.

**Brewer (Работник цеха пивоварения/пивовар)**
Пользователь, ответственный за взаимодействие с:
- отделом продаж по вопросам выполнения требования о производстве партии пива;
- с поставщиками ингредиентов (виртуальными), в случае нехватки составляющих для производства партии пива
Поля:
•	Email
•	ФИО
•	Должность
•	Отдел
•	Логин
•	Пароль
Связи:
•	Требование (“Requirement”).  Анализируется пивоваром и принимается к исполнению.
•	Ингредиент (“Ingredient”). Анализируется пивоваром.  

**Product line (Ассортимент)**
Ассортимент производимого пива.
Поля:
•	Наименование пива
•	Описание
•	Стоимость производства условной единицы пива
Связи:
•	Работник отдела продаж ("Salesman"). Формирует/редактирует ассортимент.
•	Покупатель (“Customer”). Изучает ассортимент.
•	Список производимого пива (“Beer”). Является источником информации для заполнения ассортимента. 

**Order (Заказ)**
Заказ на поставку партии пива.
Поля:
•	Дата
•	Наименование пива
•	Количество
Связи:
•	Покупатель (“Customer”). Оформляет заказ.
•	Работник отдела продаж ("Salesman"). Обрабатывает заказ. Если остатков пива достаточно, то отгружает партию пива.
Иначе, оформляет требование к цеху пивоварения на производство необходимого количества пива. 

**Review (Отзыв)**
Отзыв о продукции, выпускаемой пивоварней, компетентности сотрудника отдела продаж и работе пивоварни в целом.
Поля:
•	Дата
•	Содержание
Связи:
•	Покупатель (“Customer”). Оставляет отзыв.
•	Работник отдела продаж ("Salesman"). Просматривает отзыв клиента и реагирует на него. 

**Requirement (Требование)**
Требование, направляемое в цех пивоварения, о производстве необходимой партии пива.
Поля:
•	Дата
•	Наименование пива
•	Количество
•	Срок производства
•	Статус
Связи:
•	Работник отдела продаж ("Salesman"). Оформляет требование. 
•	Пивовар ("Brewer"). Обрабатывает требование, проверяет наличие ингредиентов и запускает производственный процесс. 

**Beer (Пиво)**
Выпускаемая продукция.
Поля:
•	Наименование
•	Вид
•	Крепость
•	Количество
•	Ингредиенты
Связи:
•	Работник отдела продаж ("Salesman"). Просматривает наличие и забирает часть для формирования партии для покупателя. 
•	Пивовар ("Brewer"). Помещает произведенное пиво в базу. 
•	Ассортимент (“Product line”). Заполняется на его основании. 

**Ingredient (Ингредиент)**
Используемые компоненты для производства пива.
Поля:
•	Наименование
•	Количество
Связи:
•	Пивовар ("Brewer"). Проверяет наличие необходимых компонентов. 

**User Stories**

**Так как основной целью предполагаемого к разработке приложения является удовлетворение потребностей клиентов, начнем 
с функционала покупателя (“Customer”).**

**CUST-STEP-1** 
Как покупатель я хочу зарегистрироваться в системе. Для этого я ввожу логин и пароль. Если такого пользователя 
не найдено, меня регистрируют в системе

Request:
POST /brewery/customer/sign-up
{
  "email" : "Ivanov@gmail.com",
  "phone" : "+375297772255",
  "login" : "Ivanov",
  "password" : "12345678",
}
Response: 201 CREATED
{
  "id" : 1
}

**CUST-STEP-2** 
Как зарегистрированный покупатель я хочу войти в систему. Я ввожу логин и пароль. 
Если такой пользователь существует, и пароль совпадает я вхожу систему

Request:
POST /brewery/customer/sign-in
{
  "email" : " Ivanov@gmail.com ",
  "password" : "12345678"
}
Response: 200 OK
{
  "id" : 1
}

**CUST-STEP-3** 
Как покупатель я хочу ознакомиться с предлагаемым ассортиментом. В результате, получаю список реализуемой продукции

Request:
GET /brewery/customer/product/list
Response: 200 OK
{
   {
    "id" : 1, 
    "name" : "BudBeer",
    "description" : "Темное, 4,6%...",
    "price" : "2$ за литр", 
   }
   {
    "id" : 2, 
    "name" : "CrazyBeer",
    "description" : "Светлое, 5,2%...",
    "price" : "2,5$ за литр", 
   }
}

**CUST-STEP-4** 
Как покупатель, который изучил ассортимент, я хочу заказать партию пива. Для этого я оформляю заказ.

Request:
POST /brewery/customer/order
{
  "date" : "05.02.2020",
  "name_beer" : "BudBeer",
  "amount" : "200",
}
Response: 201 CREATED
{
  "id" : 1
}

**CUST-STEP-5** 
Как покупатель, получивший свой заказ и (не)удовлетворенный работой пивоварни, я хочу оставить отзыв об этом.
Для этого я оформляю отзыв.

Request:
POST /brewery/customer/review
{
  "date" : "06.02.2020",
  "content" : "Хочу поблагодарить специалиста по продажам ...",
}
Response: 201 CREATED
{
  "id" : 1
}

**Далее, переходим к функционалу работника отдела продаж (“Salesman”).**

**SALES-STEP-1** 
Как зарегистрированный пользователь я хочу войти в систему. Я ввожу логин и пароль. Если такой пользователь существует
и пароль совпадает, я вхожу систему

Request:
POST /brewery/sales/sign-in
{
  "email" : "Petrov@gmail.com ",
  "password" : "87654321"
}
Response: 200 OK
{
  "id" : 1
}

**SALES-STEP-2** 
Как работник отдела продаж я хочу ознакомиться со списком, поступивших заказов от покупателей. 
В результате, получаю список заказов.

Request:
GET /brewery/sales/order/list
Response: 200 OK
{
    "id" : 1, 
    "date" : "05.02.2020",
    "name_beer" : "BudBeer",
    "amount" : "200",
}

**SALES-STEP-3** 
Как работник отдела продаж я хочу ознакомиться с имеющимися в наличии и готовыми к отгрузке покупателям остатками пива.
В результате, получаю список готового к отгрузке покупателям пива.

Request:
GET /brewery/sales/beer/list
Response: 200 OK
{
    "id" : 1, 
    "name" : "CoolBeer",
    "type" : "Светлое",
    "alcohol" : "4,8%",
    "amount" : "2540"
}

**SALES-STEP-4** 
Как работник отдела продаж я сопоставляю заказы покупателей с готовыми к отгрузке остатками  пива. 
Если пива в наличии недостаточно, я оформляю требование на производство пива к цеху пивоварения. 

Request:
POST /brewery/sales/requirement
{
    "date" : "05.02.2020",
    "name_beer" : "BudBeer",
    "amount" : "200",
}
Response: 201 CREATED
{
  "id" : 1
}

**Далее, переходим к функционалу работника цеха пивоварения (“Brewer”).**

**BREWER-STEP-1** 
Как зарегистрированный пользователь я хочу войти в систему. Я ввожу логин и пароль. 
Если такой пользователь существует и пароль совпадает, я вхожу систему

Request:
POST /brewery/brewer/sign-in
{
  "email" : "Sidorov@gmail.com ",
  "password" : "11223344"
}
Response: 200 OK
{
  "id" : 1
}
**BREWER-STEP-2** 
Как работник цеха пивоварения я хочу ознакомиться со списком, поступивших требований от отдела продаж. 
В результате, получаю список требований.

Request:
GET /brewery/brewer/requirement/list
Response: 200 OK
{
    "date" : "05.02.2020",
    "name_beer" : "BudBeer",
    "amount" : "200",
}

**BREWER-STEP-3** 
Как работник цеха пивоварения я хочу проверить, есть ли в наличии необходимые ингредиенты для производства пива. 
В результате, получаю список ингредиентов.

Request:
GET /brewery/brewer/ingredient/list
Response: 200 OK
{
    "name" : "malt",
    "amount" : "80",
}

**BREWER -STEP-4** 
Как работник цеха пивоварения, удостоверившись в наличии необходимых ингредиентов для варения пива, 
я запускаю производственный процесс. Поступление готового пива отражаю в базе.

Request:
PUT /brewery/brewer/beer/{id}
{
    "amount" : "200",
}
Response: 200 OK


